function gfRepeater_editforms_getRepeaters(){var e,r=0,t=0,i=[],d=[];return jQuery(".gfield").each(function(){if(0==r)jQuery(this).has(".gf-repeater-start").length&&(t+=1,gfRepeater_debug&&console.log("Repeater #"+t+" - Start: "+jQuery(this).attr("id")),e=this.id,r=1);else{if(jQuery(this).has(".gf-repeater-start").length)return!1;jQuery(this).has(".gf-repeater-end").length?(gfRepeater_debug&&console.log("Repeater #"+t+" - End: "+jQuery(this).attr("id")),gfRepeater_repeaters[t]={startId:e,childrenIds:d,children:i},i=[],d=[],r=0):(i.push(this),d.push(this.id),gfRepeater_debug&&console.log("Repeater #"+t+" - Child #"+i.length+" - Found: "+this.id))}}),0!==r?!1:!0}function gfRepeater_getId(e){return e.substr(6)}function gfRepeater_getField(e){var r=gfRepeater_getId(e);return GetFieldById(r)}function gfRepeater_editforms_getRepeaterId(e){return jQuery.each(gfRepeater_repeaters,function(r,t){return jQuery.inArray(e,this.childrenIds)?r:void 0}),!1}function gfRepeater_editforms_update(e){gfRepeater_editforms_getRepeaters()&&(e&&UpdateFormObject(),jQuery.each(gfRepeater_repeaters,function(r,t){var i=gfRepeater_getField(this.startId),d=[],a=[];jQuery.each(this.children,function(r,t){var i=gfRepeater_editforms_updateRequired(t,e),u=gfRepeater_getId(t.id);i&&a.push(u),d.push(u)}),i.repeaterRequiredChildren=a,i.repeaterChildren=d}))}function gfRepeater_editforms_updateRequired(e,r){var t=(gfRepeater_getId(e.id),gfRepeater_getField(e.id)),i=t.isRequired,d=t.repeaterField_isRequired,a=!1;return gfRepeater_debug&&console.log(e.id+" - Before Filter - isRequired:"+t.isRequired+" - repeaterField_isRequired:"+t.repeaterField_isRequired),i&&r&&(t.isRequired=!1,t.repeaterField_isRequired=!0,gfRepeater_debug&&console.log(e.id+" - Used Filter 1"),a=!0),!i&&r&&(t.repeaterField_isRequired=!1,gfRepeater_debug&&console.log(e.id+" - Used Filter 2")),d&&!r&&(jQuery(e).find(".gfield_required").html("*"),t.isRequired=!0,t.repeaterField_isRequired=!1,gfRepeater_debug&&console.log(e.id+" - Used Filter 3")),d||r||(jQuery(e).find(".gfield_required").html(""),t.isRequired=!1,gfRepeater_debug&&console.log(e.id+" - Used Filter 4")),gfRepeater_debug&&console.log(e.id+" - After Filter - isRequired:"+t.isRequired+" - repeaterField_isRequired:"+t.repeaterField_isRequired),a}function gfRepeater_editforms_updateUpdateButton(){var e=jQuery("#floatMenu input.update-form"),r=e.attr("onclick"),t="gfRepeater_editforms_update(true);",i=t+r;e.attr("onclick",i)}var gfRepeater_debug=!0,gfRepeater_repeaters={},gfRepeater_page=gf_repeater_js_admin_strings.page;jQuery(document).ready(function(e){"gf_edit_forms"==gfRepeater_page&&(gfRepeater_editforms_update(!1),gfRepeater_editforms_updateUpdateButton())}),gfRepeater_debug&&jQuery(window).keydown(function(e){38==e.which&&console.log(gfRepeater_repeaters),40==e.which&&jQuery(".gfield").each(function(){console.log(gfRepeater_getField(this.id))})});